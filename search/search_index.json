{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Getting Started","text":""},{"location":"#getting-started","title":"Getting Started","text":"<p>Wodore Backend is the backend implementation of wodo.re.</p>"},{"location":"#used-stack","title":"Used Stack","text":""},{"location":"#production","title":"Production","text":"<ul> <li>Django with django ninja for the API and unfold admin</li> <li>PostgreSQL with PostGIS for the database</li> <li>Imagor for image serving and processing</li> <li>Zitadel for authentication and user management (optional)</li> </ul>"},{"location":"#dev-tools","title":"Dev Tools","text":"<ul> <li>uv for package management</li> <li>infisical for secrets management (optional)</li> </ul>"},{"location":"#development","title":"Development","text":""},{"location":"#initial-setup","title":"Initial Setup","text":"<p>Check Prerequisites for required tools.</p> <p>When first cloning the repository: <pre><code># Install Python packages and set up virtualenv\nmake init\n# or\nuv sync\nuv run invoke install\n# afterwards activate the virtual environment\nsource .venv/bin/activate\n</code></pre></p>"},{"location":"#setup","title":"Setup","text":"<p>Activate the virtual environment and install packages: <pre><code>source .venv/bin/activate\n\n# With infisical (recommended) -&gt; see Secrets section\n(.venv) inv install --infisical\n\n# Without infisical\n(.venv) inv install\n\n# View available commands\n(.venv) inv help\n\n# Apply changes\nsource deactivate; source .venv/bin/activate\n</code></pre></p> <p>NOTE: The install command creates <code>.volumes/pgdata/</code> for PostgreSQL data and <code>media/imagor_data/</code> for image processing.</p>"},{"location":"#secrets","title":"Secrets","text":"<p>Secrets are managed with infisical. Install the CLI tool following the installation guide and initialize it: <pre><code>infisical login\ninfisical init\n</code></pre></p> <p>Set up secrets using infisical (recommended): <pre><code>(.venv) inv install --infisical\nsource .venv/bin/activate\n(.venv) app &lt;cmd&gt; # uses infisical\n</code></pre></p> <p>Or use local env files: <pre><code># Export secrets to config/.env (update when secrets change)\ninfisical export --env dev --path /backend &gt;&gt; config/.env\nln -s config/.env .env\n</code></pre></p> <p>Or set up manually: <pre><code># Create and edit env files manually\ncp config/.env.template config/.env\nln -s config/.env .env\n# edit .env\n</code></pre></p> <p>TIP: Add <code>-i/--infisical</code> to <code>inv</code> commands (e.g., <code>run</code>, <code>docker-compose</code>) to use infisical directly.</p>"},{"location":"#start-database-and-image-service","title":"Start Database and Image Service","text":"<p>Start PostgreSQL and Imagor services after each system restart: <pre><code># With infisical (recommended)\n(.venv) inv docker-compose -c \"up -d\" -i\n\n# Without infisical (requires .env file)\n(.venv) inv docker-compose -c \"up -d\"\n</code></pre></p> <p>NOTE: PostgreSQL data is stored in <code>.volumes/pgdata/</code> (development only). To reset the database: <pre><code>rm -rf .volumes/pgdata/*  # Be careful!\n(.venv) inv docker-compose -c \"up -d\"\n</code></pre></p>"},{"location":"#start-application","title":"Start Application","text":"<p>Start the application using the app alias (recommended): <pre><code>(.venv) app migrate\n(.venv) app run -p 8000 # -i # with infisical\n</code></pre></p> <p>Or use invoke with infisical: <pre><code>(.venv) app migrate -i\n(.venv) app run -p 8000 -i\n(.venv) # or written out\n(.venv) inv app.app -i --cmd \"migrate\"\n(.venv) inv app.app -i --cmd \"runserver\"\n</code></pre></p> <p>Or use local env files (requires <code>.env</code> and <code>config/.env</code>): <pre><code>(.venv) inv app.app --cmd \"migrate\"\n(.venv) inv app.app --cmd \"runserver\"\n</code></pre></p> <p>NOTE: The <code>app</code> command expands to if infisical is used: <pre><code>infisical run --env=dev --path /backend --silent --log-level warn -- app &lt;command&gt;\n</code></pre></p>"},{"location":"#load-data","title":"Load Data","text":"<p>Copy hut information from sources, this saves huts information from different sources (e.g. refuges.info, wikidata, open stree map) into the local database <pre><code># Add all available sources\n(.venv) app hut_sources --add --orgs all\n\n# Add specific source (e.g. refuges)\n(.venv) app hut_sources --add --orgs refuges\n</code></pre> Add huts from the previously added sources. If a hut has multiple sources they are combined as good as possible.</p> <pre><code># Add huts from sources (combines data if multiple sources)\n(.venv) app huts --add-all\n</code></pre>"},{"location":"#helpful-commands","title":"Helpful Commands","text":"<p>Common database commands: <pre><code># Apply migrations\n(.venv) app migrate\n\n# Load initial data\n(.venv) app loaddata --app huts organizations\n\n# Squash migrations\n(.venv) app squashmigrations huts 0006 --squashed-name init\n</code></pre></p> <p>Watch and compile Tailwind CSS: <pre><code>npx tailwindcss -i styles.css -o server/apps/manager/static/css/styles.css --minify --watch\n</code></pre></p>"},{"location":"#package-updates","title":"Package Updates","text":"<p>Update all packages: <pre><code>(.venv) inv update # OR\n(.venv) inv update --no-private # do not update private packages (this removes the private packages)\n\n# Update hut-service (private package only)\n(.venv) inv update -p hut-services-private\n(.venv) # uv sync --upgrade-package hut-services-private --extra private\n(.venv) # uv lock\n</code></pre></p>"},{"location":"#changes","title":"Changes","text":"<p>After changes the version in <code>pyproject.toml</code> needs to be updated and the <code>wodore-backend</code> package updated and the docker image published:</p> <pre><code>(.venv) vim pyproject.toml\n(.venv) inv update -p wodore-backend\n(.venv) # uv sync --upgrade-package wodore-backend --extra private\n(.venv) inv docker.build --push # --version-tag\n</code></pre>"},{"location":"#release","title":"Release","text":"<p>For a release run <code>inv release</code>. Merge this change into the <code>main</code> branch, the github action will create a tag and a release.</p>"},{"location":"#docker-production-build","title":"Docker Production Build","text":"<p>Set required environment variables (or add it to the <code>.env</code> file): <pre><code>READ_GITHUB_USER=&lt;username&gt;\nREAD_GITHUB_TOKEN=&lt;token&gt;  # Must have read access\n</code></pre></p> <p>(run <code>infisical export --env dev --path /keys/wodore-backend</code> to export the secrets)</p> <p>Build and run Docker images (default is alpine image): <pre><code># Build main image\n(.venv) inv docker.build [--distro alpine|ubuntu] [-p/--push] [-v/--version-tag]\n\n# Create slim version (optional)\n(.venv) inv docker.slim [--distro alpine|ubuntu]\n\n# Run the container\n(.venv) inv docker.run [--distro alpine|ubuntu] [--slim]\n\n# Publish the container (use -v to include version tags as well, otherwise only 'edge' is pushed)\n(.venv) inv docker.publish [--distro alpine|ubuntu] [--slim] [-v/--version-tag]\n</code></pre></p> <p>NOTE: These commands are deprecated: <pre><code># Export secrets (will be removed)\ninfisical export --env dev --path /backend &gt;&gt; config/.env\n\n# Build staging (use --env=prod for production)\ninfisical run --env=dev --path /backend -- \\\n  docker compose -f docker-compose.yml \\\n  -f docker/docker-compose.stage.yml build web\n</code></pre></p>"},{"location":"#prerequisites","title":"Prerequisites","text":"<p>Required development tools:</p> <ul> <li><code>python3.12</code> (see <code>pyproject.toml</code>)</li> <li><code>postgresql13</code></li> <li><code>docker</code> with <code>docker compose</code></li> <li><code>infisical</code> (installation guide) (optional)</li> <li><code>uv</code> (installation guide)</li> <li><code>node</code> and <code>npm</code> for Tailwind CSS</li> <li><code>make</code> (optional)</li> </ul>"},{"location":"api/","title":"API","text":"<p>Interactive API docs: api.wodore.com/v1/docs</p>"},{"location":"api/#wodore-api-100","title":"Wodore API 1.0.0","text":""},{"location":"api/#hut","title":"hut","text":""},{"location":"api/#get-v1hutsbookings","title":"GET /v1/huts/bookings","text":"<p>Get Hut Bookings</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>AuthBearer</code> header string N/A No JWT Bearer token <code>date</code> query None now No Date to start with bookings (yyyy-mm-dd, 'now' or 'weekend'). <code>days</code> query integer 1 No Show bookings for this many days. <code>lang</code> query string de No Select language code: de, en, fr, it. <code>slugs</code> query None No Comma separated list with slugs to use, per default all. <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"slug\": \"string\",\n        \"hut_id\": 0,\n        \"source\": \"string\",\n        \"days\": 0,\n        \"link\": \"string\",\n        \"start_date\": \"2022-04-13\",\n        \"bookings\": [\n            {\n                \"link\": \"string\",\n                \"date\": \"2022-04-13\",\n                \"reservation_status\": \"unknown\",\n                \"free\": 0,\n                \"total\": 0,\n                \"occupancy_percent\": 10.12,\n                \"occupancy_steps\": 0,\n                \"occupancy_status\": \"unknown\",\n                \"hut_type\": \"string\"\n            }\n        ],\n        \"location\": {\n            \"lat\": 10.12,\n            \"lon\": 10.12\n        }\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"items\": {\n        \"$ref\": \"#/components/schemas/HutBookingsSchema\"\n    },\n    \"title\": \"Response\",\n    \"type\": \"array\"\n}\n</code></pre>"},{"location":"api/#get-v1hutsbookingsgeojson","title":"GET /v1/huts/bookings.geojson","text":"<p>Get Hut Bookings Geojson</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>date</code> query None now No Date to start with bookings (yyyy-mm-dd, 'now' or 'weekend'). <code>days</code> query integer 1 No Show bookings for this many days. <code>lang</code> query string de No Select language code: de, en, fr, it. <code>slugs</code> query None No Comma separated list with slugs to use, per default all. <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"bbox\": null,\n    \"type\": \"FeatureCollection\",\n    \"features\": [\n        {\n            \"bbox\": null,\n            \"type\": \"Feature\",\n            \"geometry\": null,\n            \"properties\": null,\n            \"id\": null\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"properties\": {\n        \"bbox\": {\n            \"anyOf\": [\n                {\n                    \"maxItems\": 4,\n                    \"minItems\": 4,\n                    \"prefixItems\": [\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        }\n                    ],\n                    \"type\": \"array\"\n                },\n                {\n                    \"maxItems\": 6,\n                    \"minItems\": 6,\n                    \"prefixItems\": [\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        }\n                    ],\n                    \"type\": \"array\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Bbox\"\n        },\n        \"type\": {\n            \"const\": \"FeatureCollection\",\n            \"enum\": [\n                \"FeatureCollection\"\n            ],\n            \"title\": \"Type\",\n            \"type\": \"string\"\n        },\n        \"features\": {\n            \"items\": {\n                \"$ref\": \"#/components/schemas/Feature_Point_HutBookingsProps_\"\n            },\n            \"title\": \"Features\",\n            \"type\": \"array\"\n        }\n    },\n    \"required\": [\n        \"type\",\n        \"features\"\n    ],\n    \"title\": \"HutBookingsFeatureCollection\",\n    \"type\": \"object\"\n}\n</code></pre>"},{"location":"api/#get-v1hutshuts","title":"GET /v1/huts/huts","text":"<p>Get Huts</p> Description <p>Get a list with huts.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>is_active</code> query None true No <code>is_modified</code> query None unset No <code>is_public</code> query None true No <code>lang</code> query string de No Select language code: de, en, fr, it. <code>limit</code> query None No <code>offset</code> query integer 0 No <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"slug\": \"string\",\n        \"name\": null,\n        \"description\": null,\n        \"description_attribution\": \"string\",\n        \"owner\": null,\n        \"review_status\": null,\n        \"is_public\": null,\n        \"is_active\": null,\n        \"is_modified\": null,\n        \"type_open\": null,\n        \"type_closed\": null,\n        \"elevation\": null,\n        \"location\": null,\n        \"url\": null,\n        \"country\": null,\n        \"capacity_open\": null,\n        \"capacity_closed\": null,\n        \"sources\": null,\n        \"photos\": \"string\",\n        \"photos_attribution\": \"string\",\n        \"images\": null,\n        \"open_monthly\": null,\n        \"edit_link\": null,\n        \"translations\": null\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"items\": {\n        \"$ref\": \"#/components/schemas/HutSchemaDetails\"\n    },\n    \"title\": \"Response\",\n    \"type\": \"array\"\n}\n</code></pre>"},{"location":"api/#get-v1hutshutsgeojson","title":"GET /v1/huts/huts.geojson","text":"<p>Get Huts Geojson</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>embed_all</code> query boolean False No <code>embed_capacity</code> query boolean False No <code>embed_owner</code> query boolean False No <code>embed_sources</code> query boolean False No <code>embed_type</code> query boolean False No <code>flat</code> query boolean True No <code>include_elevation</code> query boolean False No <code>include_name</code> query boolean False No <code>lang</code> query string de No Select language code: de, en, fr, it. <code>limit</code> query None No <code>offset</code> query integer 0 No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"bbox\": null,\n    \"type\": \"FeatureCollection\",\n    \"features\": [\n        {\n            \"bbox\": null,\n            \"type\": \"Feature\",\n            \"geometry\": null,\n            \"properties\": null,\n            \"id\": null\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"description\": \"FeatureCollection Model\",\n    \"properties\": {\n        \"bbox\": {\n            \"anyOf\": [\n                {\n                    \"maxItems\": 4,\n                    \"minItems\": 4,\n                    \"prefixItems\": [\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        }\n                    ],\n                    \"type\": \"array\"\n                },\n                {\n                    \"maxItems\": 6,\n                    \"minItems\": 6,\n                    \"prefixItems\": [\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        },\n                        {\n                            \"type\": \"number\"\n                        }\n                    ],\n                    \"type\": \"array\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Bbox\"\n        },\n        \"type\": {\n            \"const\": \"FeatureCollection\",\n            \"enum\": [\n                \"FeatureCollection\"\n            ],\n            \"title\": \"Type\",\n            \"type\": \"string\"\n        },\n        \"features\": {\n            \"items\": {\n                \"$ref\": \"#/components/schemas/Feature\"\n            },\n            \"title\": \"Features\",\n            \"type\": \"array\"\n        }\n    },\n    \"required\": [\n        \"type\",\n        \"features\"\n    ],\n    \"title\": \"FeatureCollection\",\n    \"type\": \"object\"\n}\n</code></pre>"},{"location":"api/#get-v1hutsslug","title":"GET /v1/huts/{slug}","text":"<p>Get Hut</p> Description <p>Get a hut by its slug.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>exclude</code> query None No Comma separated list with field names, if set it uses all fields except the excluded ones. <code>include</code> query None No Comma separated list with field names, use `__all__` in order to include every field. <code>lang</code> query string de No Select language code: de, en, fr, it. <code>slug</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"slug\": \"string\",\n    \"name\": null,\n    \"description\": null,\n    \"description_attribution\": \"string\",\n    \"owner\": null,\n    \"review_status\": null,\n    \"is_public\": null,\n    \"is_active\": null,\n    \"is_modified\": null,\n    \"type_open\": null,\n    \"type_closed\": null,\n    \"elevation\": null,\n    \"location\": null,\n    \"url\": null,\n    \"country\": null,\n    \"capacity_open\": null,\n    \"capacity_closed\": null,\n    \"sources\": null,\n    \"photos\": \"string\",\n    \"photos_attribution\": \"string\",\n    \"images\": null,\n    \"open_monthly\": null,\n    \"edit_link\": null,\n    \"translations\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"properties\": {\n        \"slug\": {\n            \"title\": \"Slug\",\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Name\"\n        },\n        \"description\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Description\"\n        },\n        \"description_attribution\": {\n            \"title\": \"Description Attribution\",\n            \"type\": \"string\"\n        },\n        \"owner\": {\n            \"anyOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/OwnerSchema\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ]\n        },\n        \"review_status\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Review Status\"\n        },\n        \"is_public\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"boolean\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Is Public\"\n        },\n        \"is_active\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"boolean\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Is Active\"\n        },\n        \"is_modified\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"boolean\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Is Modified\"\n        },\n        \"type_open\": {\n            \"anyOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/HutTypeSchema\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ]\n        },\n        \"type_closed\": {\n            \"anyOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/HutTypeSchema\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ]\n        },\n        \"elevation\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"number\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Elevation\"\n        },\n        \"location\": {\n            \"anyOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/LocationSchema\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ]\n        },\n        \"url\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Url\"\n        },\n        \"country\": {\n            \"anyOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/CountryTuple\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ]\n        },\n        \"capacity_open\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"integer\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Capacity Open\"\n        },\n        \"capacity_closed\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"integer\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Capacity Closed\"\n        },\n        \"sources\": {\n            \"anyOf\": [\n                {\n                    \"items\": {\n                        \"$ref\": \"#/components/schemas/OrganizationBaseSchema\"\n                    },\n                    \"type\": \"array\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Sources\"\n        },\n        \"photos\": {\n            \"default\": \"\",\n            \"title\": \"Photos\",\n            \"type\": \"string\"\n        },\n        \"photos_attribution\": {\n            \"default\": \"\",\n            \"title\": \"Photos Attribution\",\n            \"type\": \"string\"\n        },\n        \"images\": {\n            \"anyOf\": [\n                {\n                    \"items\": {\n                        \"$ref\": \"#/components/schemas/ImageInfoSchema\"\n                    },\n                    \"type\": \"array\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Images\"\n        },\n        \"open_monthly\": {\n            \"anyOf\": [\n                {\n                    \"$ref\": \"#/components/schemas/OpenMonthlySchema\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ]\n        },\n        \"edit_link\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Edit Link\"\n        },\n        \"translations\": {\n            \"anyOf\": [\n                {},\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Translations\"\n        }\n    },\n    \"required\": [\n        \"slug\",\n        \"name\",\n        \"description\",\n        \"description_attribution\",\n        \"owner\",\n        \"sources\",\n        \"images\"\n    ],\n    \"title\": \"HutSchemaDetails\",\n    \"type\": \"object\"\n}\n</code></pre>"},{"location":"api/#get-v1hutstypeslist","title":"GET /v1/huts/types/list","text":"<p>Get Hut Types</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>exclude</code> query None No Comma separated list with field names, if set it uses all fields except the excluded ones. <code>include</code> query None No Comma separated list with field names, use `__all__` in order to include every field. <code>lang</code> query string de No Select language code: de, en, fr, it. <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"slug\": \"string\",\n        \"name\": \"string\",\n        \"description\": \"string\",\n        \"symbol\": null,\n        \"level\": null,\n        \"symbol_simple\": null,\n        \"icon\": null\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"items\": {\n        \"$ref\": \"#/components/schemas/HutTypeDetailSchema\"\n    },\n    \"title\": \"Response\",\n    \"type\": \"array\"\n}\n</code></pre>"},{"location":"api/#get-v1hutstypesrecords","title":"GET /v1/huts/types/records","text":"<p>Get Hut Type Records</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>exclude</code> query None No Comma separated list with field names, if set it uses all fields except the excluded ones. <code>include</code> query None No Comma separated list with field names, use `__all__` in order to include every field. <code>lang</code> query string de No Select language code: de, en, fr, it. <p> Response 200 OK </p> application/json Schema of the response body <pre><code>{\n    \"additionalProperties\": {\n        \"$ref\": \"#/components/schemas/HutTypeDetailSchema\"\n    },\n    \"title\": \"Response\",\n    \"type\": \"object\"\n}\n</code></pre>"},{"location":"api/#organization","title":"organization","text":""},{"location":"api/#get-v1organizations","title":"GET /v1/organizations/","text":"<p>Get Organizations</p> Description <p>Get a list of all organizations used for the huts.</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>exclude</code> query None No Comma separated list with field names, if set it uses all fields except the excluded ones. <code>include</code> query None No Comma separated list with field names, use `__all__` in order to include every field. <code>is_public</code> query None No <code>lang</code> query string de No Select language code: de, en, fr, it. <p> Response 200 OK </p> application/json <p><pre><code>[\n    {\n        \"name\": null,\n        \"fullname\": null,\n        \"description\": null,\n        \"attribution\": null,\n        \"url\": null,\n        \"config\": null,\n        \"props_schema\": null,\n        \"order\": null,\n        \"slug\": null,\n        \"link_hut_pattern\": null,\n        \"logo\": null,\n        \"is_active\": null,\n        \"is_public\": null,\n        \"color_light\": null,\n        \"color_dark\": null\n    }\n]\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"items\": {\n        \"$ref\": \"#/components/schemas/OrganizationOptional\"\n    },\n    \"title\": \"Response\",\n    \"type\": \"array\"\n}\n</code></pre>"},{"location":"api/#get-v1organizationsslug","title":"GET /v1/organizations/{slug}","text":"<p>Get Organization</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>exclude</code> query None No Comma separated list with field names, if set it uses all fields except the excluded ones. <code>include</code> query None No Comma separated list with field names, use `__all__` in order to include every field. <code>lang</code> query string de No Select language code: de, en, fr, it. <code>slug</code> path string No <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"name\": null,\n    \"fullname\": null,\n    \"description\": null,\n    \"attribution\": null,\n    \"url\": null,\n    \"config\": null,\n    \"props_schema\": null,\n    \"order\": null,\n    \"slug\": null,\n    \"link_hut_pattern\": null,\n    \"logo\": null,\n    \"is_active\": null,\n    \"is_public\": null,\n    \"color_light\": null,\n    \"color_dark\": null\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"properties\": {\n        \"name\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Name\"\n        },\n        \"fullname\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Fullname\"\n        },\n        \"description\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Description\"\n        },\n        \"attribution\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Attribution\"\n        },\n        \"url\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Url\"\n        },\n        \"config\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"object\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Config\"\n        },\n        \"props_schema\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"object\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Props Schema\"\n        },\n        \"order\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"integer\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Order\"\n        },\n        \"slug\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Slug\"\n        },\n        \"link_hut_pattern\": {\n            \"anyOf\": [\n                {\n                    \"maxLength\": 300,\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"description\": \"Link pattern to corresponding object. Variables to use: {{id}}, {{lang}}, {{props}}, {{config}}.)\",\n            \"title\": \"Link patten to object\"\n        },\n        \"logo\": {\n            \"anyOf\": [\n                {\n                    \"maxLength\": 300,\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"default\": \"organizations/logos/missing.png\",\n            \"description\": \"Organiztion logo as image\",\n            \"title\": \"Logo\"\n        },\n        \"is_active\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"boolean\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"default\": true,\n            \"title\": \"Aktiv\"\n        },\n        \"is_public\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"boolean\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"default\": false,\n            \"title\": \"Public\"\n        },\n        \"color_light\": {\n            \"anyOf\": [\n                {\n                    \"maxLength\": 25,\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"default\": \"#4B8E43\",\n            \"description\": \"light theme color as hex number with #\",\n            \"title\": \"Light Color\"\n        },\n        \"color_dark\": {\n            \"anyOf\": [\n                {\n                    \"maxLength\": 25,\n                    \"type\": \"string\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"default\": \"#61B958\",\n            \"description\": \"dark theme color as hex number with #\",\n            \"title\": \"Dark Color\"\n        }\n    },\n    \"required\": [\n        \"name\"\n    ],\n    \"title\": \"OrganizationOptional\",\n    \"type\": \"object\"\n}\n</code></pre>"},{"location":"api/#feedback","title":"feedback","text":""},{"location":"api/#post-v1feedback","title":"POST /v1/feedback/","text":"<p>Create Feedback</p> <p>Input parameters</p> Parameter In Type Default Nullable Description <code>send_email</code> query boolean True No <p>Request body</p> application/json <p><pre><code>{\n    \"urls\": null,\n    \"email\": \"string\",\n    \"subject\": \"string\",\n    \"message\": \"string\",\n    \"get_updates\": true\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the request body <pre><code>{\n    \"properties\": {\n        \"urls\": {\n            \"anyOf\": [\n                {\n                    \"items\": {\n                        \"type\": \"string\"\n                    },\n                    \"type\": \"array\"\n                },\n                {\n                    \"type\": \"null\"\n                }\n            ],\n            \"title\": \"Urls\"\n        },\n        \"email\": {\n            \"title\": \"Email\",\n            \"type\": \"string\"\n        },\n        \"subject\": {\n            \"title\": \"Subject\",\n            \"type\": \"string\"\n        },\n        \"message\": {\n            \"title\": \"Message\",\n            \"type\": \"string\"\n        },\n        \"get_updates\": {\n            \"title\": \"Get Updates\",\n            \"type\": \"boolean\"\n        }\n    },\n    \"required\": [\n        \"email\",\n        \"subject\",\n        \"message\",\n        \"get_updates\"\n    ],\n    \"title\": \"FeedbackCreate\",\n    \"type\": \"object\"\n}\n</code></pre> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"message\": \"string\",\n    \"id\": 0\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"properties\": {\n        \"message\": {\n            \"title\": \"Message\",\n            \"type\": \"string\"\n        },\n        \"id\": {\n            \"title\": \"Id\",\n            \"type\": \"integer\"\n        }\n    },\n    \"required\": [\n        \"message\",\n        \"id\"\n    ],\n    \"title\": \"ResponseSchema\",\n    \"type\": \"object\"\n}\n</code></pre>"},{"location":"api/#schemas","title":"Schemas","text":""},{"location":"api/#answerenum","title":"AnswerEnum","text":"<p>Type: string</p>"},{"location":"api/#basemodel","title":"BaseModel","text":""},{"location":"api/#countrytuple","title":"CountryTuple","text":"<p>Type: Array&lt;&gt;</p>"},{"location":"api/#feature","title":"Feature","text":"Name Type <code>bbox</code> <code>geometry</code> <code>id</code> <code>properties</code> <code>type</code> string"},{"location":"api/#feature_point_hutbookingsprops_","title":"Feature_Point_HutBookingsProps_","text":"Name Type <code>bbox</code> <code>geometry</code> <code>id</code> <code>properties</code> <code>type</code> string"},{"location":"api/#featurecollection","title":"FeatureCollection","text":"Name Type <code>bbox</code> <code>features</code> Array&lt;Feature&gt; <code>type</code> string"},{"location":"api/#feedbackcreate","title":"FeedbackCreate","text":"Name Type <code>email</code> string <code>get_updates</code> boolean <code>message</code> string <code>subject</code> string <code>urls</code>"},{"location":"api/#fieldsparam_hutschemadetails_","title":"FieldsParam_HutSchemaDetails_","text":"Name Type <code>exclude</code> <code>include</code>"},{"location":"api/#fieldsparam_huttypedetailschema_","title":"FieldsParam_HutTypeDetailSchema_","text":"Name Type <code>exclude</code> <code>include</code>"},{"location":"api/#fieldsparam_organizationoptional_","title":"FieldsParam_OrganizationOptional_","text":"Name Type <code>exclude</code> <code>include</code>"},{"location":"api/#geometrycollection","title":"GeometryCollection","text":"Name Type <code>bbox</code> <code>geometries</code> Array&lt;&gt; <code>type</code> string"},{"location":"api/#hutbookingschema","title":"HutBookingSchema","text":"Name Type <code>date</code> string(date) <code>free</code> integer <code>hut_type</code> string <code>link</code> string <code>occupancy_percent</code> number <code>occupancy_status</code> OccupancyStatusEnum <code>occupancy_steps</code> integer <code>reservation_status</code> ReservationStatusEnum <code>total</code> integer"},{"location":"api/#hutbookingsfeaturecollection","title":"HutBookingsFeatureCollection","text":"Name Type <code>bbox</code> <code>features</code> Array&lt;Feature_Point_HutBookingsProps_&gt; <code>type</code> string"},{"location":"api/#hutbookingsprops","title":"HutBookingsProps","text":"Name Type <code>bookings</code> Array&lt;HutBookingSchema&gt; <code>days</code> integer <code>hut_id</code> integer <code>link</code> string <code>slug</code> string <code>source</code> string <code>start_date</code> string(date)"},{"location":"api/#hutbookingsquery","title":"HutBookingsQuery","text":"Name Type <code>date</code> <code>days</code> integer <code>slugs</code>"},{"location":"api/#hutbookingsschema","title":"HutBookingsSchema","text":"Name Type <code>bookings</code> Array&lt;HutBookingSchema&gt; <code>days</code> integer <code>hut_id</code> integer <code>link</code> string <code>location</code> LocationSchema <code>slug</code> string <code>source</code> string <code>start_date</code> string(date)"},{"location":"api/#hutschemadetails","title":"HutSchemaDetails","text":"Name Type <code>capacity_closed</code> <code>capacity_open</code> <code>country</code> <code>description</code> <code>description_attribution</code> string <code>edit_link</code> <code>elevation</code> <code>images</code> <code>is_active</code> <code>is_modified</code> <code>is_public</code> <code>location</code> <code>name</code> <code>open_monthly</code> <code>owner</code> <code>photos</code> string <code>photos_attribution</code> string <code>review_status</code> <code>slug</code> string <code>sources</code> <code>translations</code> <code>type_closed</code> <code>type_open</code> <code>url</code>"},{"location":"api/#huttypedetailschema","title":"HutTypeDetailSchema","text":"Name Type <code>description</code> string <code>icon</code> <code>level</code> <code>name</code> string <code>slug</code> string <code>symbol</code> <code>symbol_simple</code>"},{"location":"api/#huttypeschema","title":"HutTypeSchema","text":"Name Type <code>icon</code> <code>level</code> <code>name</code> <code>slug</code> string <code>symbol</code> <code>symbol_simple</code>"},{"location":"api/#imageinfoschema","title":"ImageInfoSchema","text":"Name Type <code>attribution</code> <code>author</code> <code>author_url</code> <code>caption</code> <code>image</code> string <code>image_meta</code> ImageMetaSchema <code>license</code> LicenseInfoSchema <code>organization</code> <code>source_url</code>"},{"location":"api/#imagemetaareaschema","title":"ImageMetaAreaSchema","text":"Name Type <code>x1</code> number <code>x2</code> number <code>y1</code> number <code>y2</code> number"},{"location":"api/#imagemetaschema","title":"ImageMetaSchema","text":"Name Type <code>crop</code> <code>focal</code> <code>height</code> <code>width</code>"},{"location":"api/#licenseinfoschema","title":"LicenseInfoSchema","text":"Name Type <code>description</code> <code>fullname</code> <code>link</code> <code>name</code> <code>slug</code> string"},{"location":"api/#linestring","title":"LineString","text":"Name Type <code>bbox</code> <code>coordinates</code> Array&lt;&gt; <code>type</code> string"},{"location":"api/#locationschema","title":"LocationSchema","text":"Name Type <code>lat</code> number <code>lon</code> number"},{"location":"api/#multilinestring","title":"MultiLineString","text":"Name Type <code>bbox</code> <code>coordinates</code> Array&lt;Array&lt;&gt;&gt; <code>type</code> string"},{"location":"api/#multipoint","title":"MultiPoint","text":"Name Type <code>bbox</code> <code>coordinates</code> Array&lt;&gt; <code>type</code> string"},{"location":"api/#multipolygon","title":"MultiPolygon","text":"Name Type <code>bbox</code> <code>coordinates</code> Array&lt;Array&lt;Array&lt;&gt;&gt;&gt; <code>type</code> string"},{"location":"api/#occupancystatusenum","title":"OccupancyStatusEnum","text":"<p>Type: string</p>"},{"location":"api/#openmonthlyschema","title":"OpenMonthlySchema","text":"Name Type <code>month_01</code> <code>month_02</code> <code>month_03</code> <code>month_04</code> <code>month_05</code> <code>month_06</code> <code>month_07</code> <code>month_08</code> <code>month_09</code> <code>month_10</code> <code>month_11</code> <code>month_12</code> <code>url</code> string"},{"location":"api/#organizationbaseschema","title":"OrganizationBaseSchema","text":"Name Type <code>fullname</code> string <code>link</code> string <code>logo</code> string <code>name</code> string <code>public</code> boolean <code>slug</code> string"},{"location":"api/#organizationimageschema","title":"OrganizationImageSchema","text":"Name Type <code>fullname</code> <code>link</code> <code>logo</code> <code>name</code> <code>slug</code>"},{"location":"api/#organizationoptional","title":"OrganizationOptional","text":"Name Type <code>attribution</code> <code>color_dark</code> <code>color_light</code> <code>config</code> <code>description</code> <code>fullname</code> <code>is_active</code> <code>is_public</code> <code>link_hut_pattern</code> <code>logo</code> <code>name</code> <code>order</code> <code>props_schema</code> <code>slug</code> <code>url</code>"},{"location":"api/#ownerschema","title":"OwnerSchema","text":"Name Type <code>name</code> <code>slug</code> string <code>url</code>"},{"location":"api/#point","title":"Point","text":"Name Type <code>bbox</code> <code>coordinates</code> <code>type</code> string"},{"location":"api/#polygon","title":"Polygon","text":"Name Type <code>bbox</code> <code>coordinates</code> Array&lt;Array&lt;&gt;&gt; <code>type</code> string"},{"location":"api/#position2d","title":"Position2D","text":"<p>Type: Array&lt;&gt;</p>"},{"location":"api/#position3d","title":"Position3D","text":"<p>Type: Array&lt;&gt;</p>"},{"location":"api/#reservationstatusenum","title":"ReservationStatusEnum","text":"<p>Type: string</p>"},{"location":"api/#responseschema","title":"ResponseSchema","text":"Name Type <code>id</code> integer <code>message</code> string"},{"location":"api/#tristateenum","title":"TristateEnum","text":"<p>Type: string</p>"},{"location":"api/#security-schemes","title":"Security schemes","text":"Name Type Scheme Description AuthBearer http bearer"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#019-2025-08-21","title":"0.1.9 - 2025-08-21","text":"<p>Initial release.</p>"},{"location":"changelog/#features","title":"\ud83d\ude80 Features","text":"<ul> <li>Ignore connection error oicd (#16)</li> <li>Open monthly formfield and green for empty huts (#10)</li> </ul>"},{"location":"changelog/#fixes","title":"\ud83d\udc1b Fixes","text":"<ul> <li>Fix frontend hut link (#11)</li> <li>Fix hut location field missing (#8)</li> </ul>"},{"location":"changelog/#dependencies","title":"\ud83e\uddea Dependencies","text":"<ul> <li>Update python packages (#12, #13, #18)</li> </ul>"},{"location":"changelog/#others","title":"\ud83c\udf00 Others","text":"<ul> <li>Include git hash in docker build (#19)</li> <li>Use <code>READ_DOCKER_TOKEN</code> and <code>READ_DOCKER_USER</code> for private repo access during docker build. (#5)</li> <li>Add docker invoke scripts (#4)</li> <li>Switch from <code>poetry</code> to <code>uv</code> (#1)</li> </ul>"},{"location":"packages/","title":"Packages","text":""},{"location":"packages/#docker","title":"Docker","text":"<p>Docker images are created with the following tags:</p> <ul> <li><code>latest</code>: latest stable version</li> <li><code>major</code>, <code>major.minor</code> and <code>major.minor.rev</code> tags</li> <li><code>sha-HASH</code>: git hash of the commit used for the build</li> <li><code>edge</code>: unstable development version</li> </ul> <p>Each tag is suffixed with the used distro (e.g. <code>alpine</code> or <code>ubuntu</code>). Per default only <code>alpine</code> is generated.</p> Docker ComposeDocker <p>It is recommended to use <code>docker compose</code>:</p> <p>Example docker compose fil with two databases and a backup runner container<pre><code>services:\n  wodore-backend:\n    image: ghcr.io/wodore/wodore-backend:latest\n    restart: unless-stopped\n    container_name: wodore-backend\n</code></pre> Run a custom command:</p> <pre><code>$ docker compose up # start services\n$ docker compose run wodore-backend [OPTIONS] COMMAND [ARGS]... # (1)!\n</code></pre> <ol> <li>Run <code>db-backup-runner</code> subcommands.</li> </ol> <p>It is also possible to run it with docker directly:</p> Pull latest docker image<pre><code>$ docker pull ghcr.io/wodore/wodore-backend:latest\n$ docker run --rm -it ghcr.io/wodore/wodore-backend:latest\n</code></pre>"}]}